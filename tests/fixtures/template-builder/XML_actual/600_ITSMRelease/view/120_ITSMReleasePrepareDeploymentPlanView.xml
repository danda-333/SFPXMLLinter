<?xml version="1.0" encoding="utf-8"?>
<DataView xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:dvs="http://www.gappex.com/sfp/DataView/Settings" xmlns:dsp="http://www.gappex.com/sfp/DataSource/Parameters" xmlns:dsf="http://www.gappex.com/sfp/DataSource/Froms" Ident="ITSMReleasePrepareDeploymentPlanView" SegmentType="ITSMReleaseSegment" TitleResourceKey="ITSMReleasePrepareDeploymentPlanView_ITSM" GroupTitleResourceKey="ITSMReleaseStateGroup_ITSM" Priority="120" IsManualPaging="true" IsGeneratePaging="false" DefaultFilterIdent="ITSMReleaseFilter" ShareFilterIdent="ITSMReleaseFilter" CountColorCssClass="primary" PackageIdent="ITSMPackage">
  <AccessPermissions>
    <string>ITSMRelease</string>
  </AccessPermissions>
	<Settings>
		<dvs:Setting xsi:type="dvs:DataTableSetting" IsResponsive="false" IsClassicPaging="true" />
	</Settings>
  <Buttons>
    <Button xsi:type="LinkButton" Ident="NewITSMReleaseButton" FormIdent="ITSMRelease" TitleResourceKey="NewITSMReleaseButton_ITSM" />
  </Buttons>
  <DataSource FormIdent="ITSMRelease">
    <DataPermissions>
      <string>ITSMReleaseReporter</string>
      <string>ITSMReleaseManager</string>
      <string>ITSMOperator</string>
      <string>ITSMSupplier</string>
    </DataPermissions>
		<Columns>
      <Column Ident="ID" TitleResourceKey="ID_ITSM" IsPrimaryKey="true" Width="10" TableAlterIdent="tbl" IsVisible="false" DataType="Number" />
      <Column Ident="ITSMKey" TitleResourceKey="ITSMKey_ITSM" Width="10" TableAlterIdent="tbl">
        <SQL>
          itsReq.ITSMKey
        </SQL>
      </Column>
      <Column Ident="ReleaseName" TitleResourceKey="ReleaseName_ITSM" Width="20" TableAlterIdent="tbl">
        <SQL>
          itsReq.[ReleaseName]
        </SQL>
      </Column>
      <Column Ident="ITSMCompanyIdent" TitleResourceKey="ITSMCompanyIdent_ITSM" Width="15" TableAlterIdent="tbl">
        <SQL>
          ftvCom.[FolderName] AS ITSMCompanyIdent
        </SQL>
      </Column>
      <Column Ident="ITSMCategoryLevel2Ident" TitleResourceKey="ITSMCategoryLevel2Ident_ITSM" Width="15" TableAlterIdent="tbl">
        <SQL>
          ftvCat2.[FolderName] AS ITSMCategoryLevel2Ident
        </SQL>
      </Column>
      <Column Ident="ITSMCategoryLevel3Ident" TitleResourceKey="ITSMCategoryLevel3Ident_ITSM" Width="15" TableAlterIdent="tbl">
        <SQL>
          ftvCat3.[FolderName] AS ITSMCategoryLevel3Ident
        </SQL>
      </Column>
      <Column Ident="ITSMCategoryLevel4Ident" TitleResourceKey="ITSMCategoryLevel4Ident_ITSM" Width="15" TableAlterIdent="tbl">
        <SQL>
          ftvCat4.[FolderName] AS ITSMCategoryLevel4Ident
        </SQL>
      </Column>
      <Column xsi:type="WorkFlowStateColumn" Ident="State" FormIdent="ITSMRelease" TitleResourceKey="State_ITSM" IsColor="true" Width="10" TableAlterIdent="tbl">
        <SQL>
          itsReq.State
        </SQL>
      </Column>
      <Column Ident="CreateDate" TitleResourceKey="CreateDate_ITSM" TableAlterIdent="tbl" IsOptional="true" DataType="DateTime">
        <SQL>
          itsReq.CreateDate
        </SQL>
      </Column>
      <Column Ident="AccountID" TitleResourceKey="AccountID_ITSM" TableAlterIdent="tbl" IsOptional="true">
        <SQL>
          accCreator.FullName AS AccountID
        </SQL>
      </Column>
      <Column Ident="ITSMCategoryLevel5Ident" TitleResourceKey="ITSMCategoryLevel5Ident_ITSM" TableAlterIdent="tbl" IsOptional="true">
        <SQL>
          ftvCat5.[FolderName] AS ITSMCategoryLevel5Ident
        </SQL>
      </Column>
      <Column Ident="ReporterAccountID" TitleResourceKey="ReporterAccountID_ITSM" TableAlterIdent="tbl" IsOptional="true">
        <SQL>
          accRep.[FullName] AS ReporterAccountID
        </SQL>
      </Column>
      <Column Ident="ReporterEmail" TitleResourceKey="ReporterEmail_ITSM" TableAlterIdent="tbl" IsOptional="true">
        <SQL>
          itsReq.[ReporterEmail]
        </SQL>
      </Column>
      <Column Ident="ReporterPhone" TitleResourceKey="ReporterPhone_ITSM" TableAlterIdent="tbl" IsOptional="true">
        <SQL>
          itsReq.[ReporterPhone]
        </SQL>
      </Column>
      <Column Ident="ITSMGeneralResolutionMethodTypeGuid" TitleResourceKey="ITSMGeneralResolutionMethodTypeGuid_ITSM" TableAlterIdent="tbl" IsOptional="true">
        <SQL>
          genResMetTyp.[TextValue] AS ITSMGeneralResolutionMethodTypeGuid
        </SQL>
      </Column>
      <Column Ident="SolutionDescription" TitleResourceKey="SolutionDescription_ITSM" TableAlterIdent="tbl" IsOptional="true">
        <SQL>
          itsReq.[SolutionDescription]
        </SQL>
      </Column>
      <Column Ident="SolutionAditionalInformation" TitleResourceKey="SolutionAditionalInformation_ITSM" TableAlterIdent="tbl" IsOptional="true">
        <SQL>
          itsReq.[SolutionAditionalInformation]
        </SQL>
      </Column>
      <Column Ident="AssignedGroupID" TitleResourceKey="AssignedGroupID_ITSM" TableAlterIdent="tbl" IsOptional="true">
        <SQL>
          gro.[Name] AS [AssignedGroupID]
        </SQL>
      </Column>
      <Column Ident="AssignedAccountID" TitleResourceKey="AssignedAccountID_ITSM" TableAlterIdent="tbl" IsOptional="true">
        <SQL>
          accAsg.FullName AS [AssignedAccountID]
        </SQL>
      </Column>

      <Column Ident="ReleaseManagerID" TitleResourceKey="ReleaseManagerID_ITSM" TableAlterIdent="tbl" IsOptional="true">
        <SQL>
          accRelMan.FullName AS ReleaseManagerID
        </SQL>
      </Column>
      <Column Ident="ITSMChangeID" TitleResourceKey="ReleaseITSMChangeID_ITSM" TableAlterIdent="tbl" IsOptional="true">
        <SQL>
          CONCAT(itsCha.ITSMKey,' - ',itsCha.[Subject]) AS ITSMChangeID
        </SQL>
      </Column>
      <Column Ident="ITSMReleaseClassificationCategoryGuid" TitleResourceKey="ITSMReleaseClassificationCategoryGuid_ITSM" TableAlterIdent="tbl" IsOptional="true">
        <SQL>
          relClaCat.[TextValue] AS ITSMReleaseClassificationCategoryGuid
        </SQL>
      </Column>
      <Column Ident="ITSMReleaseDeploymentTypeGuid" TitleResourceKey="ITSMReleaseDeploymentTypeGuid_ITSM" TableAlterIdent="tbl" IsOptional="true">
        <SQL>
          relDepTyp.[TextValue] AS ITSMReleaseDeploymentTypeGuid
        </SQL>
      </Column>
      <Column Ident="ITSMOperationalEnvironmentTypeGuid" TitleResourceKey="ITSMOperationalEnvironmentTypeGuid_ITSM" TableAlterIdent="tbl" IsOptional="true">
        <SQL>
          opeEnvTyp.[TextValue] AS ITSMOperationalEnvironmentTypeGuid
        </SQL>
      </Column>
      <Column Ident="ITSMReleaseApprovalDecisionResultGuid" TitleResourceKey="ITSMReleaseApprovalDecisionResultGuid_ITSM" TableAlterIdent="tbl" IsOptional="true">
        <SQL>
          relAppDecRes.[TextValue] AS ITSMReleaseApprovalDecisionResultGuid
        </SQL>
      </Column>
      <Column Ident="ApprovalJustification" TitleResourceKey="ApprovalJustification_ITSM" TableAlterIdent="tbl" IsOptional="true">
        <SQL>
          itsReq.[ApprovalJustification]
        </SQL>
      </Column>
      <Column Ident="ApprovalDateTime" TitleResourceKey="ApprovalDateTime_ITSM" TableAlterIdent="tbl" DataType="DateTime" IsOptional="true">
        <SQL>
          itsReq.[ApprovalDateTime]
        </SQL>
      </Column>
      <Column Ident="RequestForShutdown" TitleResourceKey="RequestForShutdown_ITSM" TableAlterIdent="tbl" IsOptional="true">
        <SQL>
          itsReq.[RequestForShutdown]
        </SQL>
      </Column>
      <Column Ident="ShutdownStartDateTime" TitleResourceKey="ShutdownStartDateTime_ITSM" TableAlterIdent="tbl" DataType="DateTime" IsOptional="true">
        <SQL>
          itsReq.[ShutdownStartDateTime]
        </SQL>
      </Column>
      <Column Ident="ShutdownEndDateTime" TitleResourceKey="ShutdownEndDateTime_ITSM" TableAlterIdent="tbl" DataType="DateTime" IsOptional="true">
        <SQL>
          itsReq.[ShutdownEndDateTime]
        </SQL>
      </Column>
      <Column Ident="DeploymentDescription" TitleResourceKey="DeploymentDescription_ITSM" TableAlterIdent="tbl" IsOptional="true">
        <SQL>
          itsReq.[DeploymentDescription]
        </SQL>
      </Column>
      <Column Ident="DeploymentDateTime" TitleResourceKey="DeploymentDateTime_ITSM" TableAlterIdent="tbl" DataType="DateTime" IsOptional="true">
        <SQL>
          itsReq.[DeploymentDateTime]
        </SQL>
      </Column>
      <Column Ident="ITSMReleaseTestSummaryConclusionGuid" TitleResourceKey="ITSMReleaseTestSummaryConclusionGuid_ITSM" TableAlterIdent="tbl" IsOptional="true">
        <SQL>
          relTesSumCon.[TextValue] AS ITSMReleaseTestSummaryConclusionGuid
        </SQL>
      </Column>
      <Column Ident="ITSMReleaseTestExecutionResultGuid" TitleResourceKey="ITSMReleaseTestExecutionResultGuid_ITSM" TableAlterIdent="tbl" IsOptional="true">
        <SQL>
          relTesExeRes.[TextValue] AS ITSMReleaseTestExecutionResultGuid
        </SQL>
      </Column>
      <Column Ident="TestingResultDescription" TitleResourceKey="TestingResultDescription_ITSM" TableAlterIdent="tbl" IsOptional="true">
        <SQL>
          itsReq.[TestingResultDescription]
        </SQL>
      </Column>
      <Column Ident="TestingEndDateTime" TitleResourceKey="TestingEndDateTime_ITSM" TableAlterIdent="tbl" DataType="DateTime" IsOptional="true">
        <SQL>
          itsReq.[TestingEndDateTime]
        </SQL>
      </Column>
      <Column Ident="IsTrainingRequired" TitleResourceKey="IsTrainingRequired_ITSM" TableAlterIdent="tbl" IsTranslate="true" IsOptional="true">
        <SQL>
          ISNULL(itsReq.[IsTrainingRequired],'false') AS IsTrainingRequired
        </SQL>
      </Column>
      <Column Ident="TrainingDateTime" TitleResourceKey="TrainingDateTime_ITSM" TableAlterIdent="tbl" DataType="DateTime" IsOptional="true">
        <SQL>
          itsReq.[TrainingDateTime]
        </SQL>
      </Column>
      <Column Ident="IsRollback" TitleResourceKey="IsRollback_ITSM" TableAlterIdent="tbl" IsTranslate="true" IsOptional="true">
        <SQL>
          ISNULL(itsReq.[IsRollback],'false') AS IsRollback
        </SQL>
      </Column>
      <Column Ident="RollbackJustification" TitleResourceKey="RollbackJustification_ITSM" TableAlterIdent="tbl" IsOptional="true">
        <SQL>
          itsReq.[RollbackJustification]
        </SQL>
      </Column>
      <Column Ident="RollbackDateTime" TitleResourceKey="RollbackDateTime_ITSM" TableAlterIdent="tbl" DataType="DateTime" IsOptional="true">
        <SQL>
          itsReq.[RollbackDateTime]
        </SQL>
      </Column>

		</Columns>
    <Froms>
      <dsf:From Ident="ftvCat2">
        <dsf:Columns>
          <dsf:string>ITSMCategoryLevel2Ident</dsf:string>
        </dsf:Columns>
        <dsf:SQL>
          LEFT JOIN usr.ITSM_FolderTreeView AS ftvCat2 ON ftvCat2.FolderTreeIdent = itsReq.ITSMCategoryLevel2Ident
        </dsf:SQL>
      </dsf:From>
      <dsf:From Ident="ftvCat3">
        <dsf:Columns>
          <dsf:string>ITSMCategoryLevel3Ident</dsf:string>
        </dsf:Columns>
        <dsf:SQL>
          LEFT JOIN usr.ITSM_FolderTreeView AS ftvCat3 ON ftvCat3.FolderTreeIdent = itsReq.ITSMCategoryLevel3Ident
        </dsf:SQL>
      </dsf:From>
      <dsf:From Ident="ftvCat4">
        <dsf:Columns>
          <dsf:string>ITSMCategoryLevel4Ident</dsf:string>
        </dsf:Columns>
        <dsf:SQL>
          LEFT JOIN usr.ITSM_FolderTreeView AS ftvCat4 ON ftvCat4.FolderTreeIdent = itsReq.ITSMCategoryLevel4Ident
        </dsf:SQL>
      </dsf:From>
      <dsf:From Ident="ftvCat5">
        <dsf:Columns>
          <dsf:string>ITSMCategoryLevel5Ident</dsf:string>
        </dsf:Columns>
        <dsf:SQL>
          LEFT JOIN usr.ITSM_FolderTreeView AS ftvCat5 ON ftvCat5.FolderTreeIdent = itsReq.ITSMCategoryLevel5Ident
        </dsf:SQL>
      </dsf:From>
      <dsf:From Ident="accRep">
        <dsf:Columns>
          <dsf:string>ReporterAccountID</dsf:string>
        </dsf:Columns>
        <dsf:SQL>
          LEFT JOIN dbo.Account as accRep on accRep.ID = itsReq.ReporterAccountID
        </dsf:SQL>
      </dsf:From>
      <dsf:From Ident="accAsg">
        <dsf:Columns>
          <dsf:string>AssignedAccountID</dsf:string>
        </dsf:Columns>
        <dsf:SQL>
          LEFT JOIN dbo.Account as accAsg on accAsg.ID = itsReq.AssignedAccountID
        </dsf:SQL>
      </dsf:From>
      <dsf:From Ident="gro">
        <dsf:Columns>
          <dsf:string>AssignedGroupID</dsf:string>
        </dsf:Columns>
        <dsf:SQL>
          LEFT JOIN dbo.[Group] as gro on gro.ID = itsReq.AssignedGroupID
        </dsf:SQL>
      </dsf:From>
      <dsf:From Ident="genResMetTyp">
        <dsf:Columns>
          <dsf:string>ITSMGeneralResolutionMethodTypeGuid</dsf:string>
        </dsf:Columns>
        <dsf:SQL>
          LEFT JOIN usr.ITSMGeneralResolutionMethodType as genResMetTyp on genResMetTyp.Ident = itsReq.ITSMGeneralResolutionMethodTypeGuid AND genResMetTyp.LanguageID = @UserLanguageID
        </dsf:SQL>
      </dsf:From>
      <dsf:From Ident="accRelMan">
        <dsf:Columns>
          <dsf:string>ReleaseManagerID</dsf:string>
        </dsf:Columns>
        <dsf:SQL>
          LEFT JOIN dbo.Account as accRelMan on accRelMan.ID = itsReq.ReleaseManagerID
        </dsf:SQL>
      </dsf:From>
      <dsf:From Ident="itsCha">
        <dsf:Columns>
          <dsf:string>ITSMChangeID</dsf:string>
        </dsf:Columns>
        <dsf:SQL>
          LEFT JOIN usr.ITSMChange as itsCha on itsCha.ID = itsReq.ITSMChangeID
        </dsf:SQL>
      </dsf:From>
      <dsf:From Ident="relClaCat">
        <dsf:Columns>
          <dsf:string>ITSMReleaseClassificationCategoryGuid</dsf:string>
        </dsf:Columns>
        <dsf:SQL>
          LEFT JOIN usr.ITSMReleaseClassificationCategory as relClaCat on relClaCat.Ident = itsReq.ITSMReleaseClassificationCategoryGuid AND relClaCat.LanguageID = @UserLanguageID
        </dsf:SQL>
      </dsf:From>
      <dsf:From Ident="relDepTyp">
        <dsf:Columns>
          <dsf:string>ITSMReleaseDeploymentTypeGuid</dsf:string>
        </dsf:Columns>
        <dsf:SQL>
          LEFT JOIN usr.ITSMReleaseDeploymentType as relDepTyp on relDepTyp.Ident = itsReq.ITSMReleaseDeploymentTypeGuid AND relDepTyp.LanguageID = @UserLanguageID
        </dsf:SQL>
      </dsf:From>
      <dsf:From Ident="opeEnvTyp">
        <dsf:Columns>
          <dsf:string>ITSMOperationalEnvironmentTypeGuid</dsf:string>
        </dsf:Columns>
        <dsf:SQL>
          LEFT JOIN usr.ITSMOperationalEnvironmentType as opeEnvTyp on opeEnvTyp.Ident = itsReq.ITSMOperationalEnvironmentTypeGuid AND opeEnvTyp.LanguageID = @UserLanguageID
        </dsf:SQL>
      </dsf:From>
      <dsf:From Ident="relAppDecRes">
        <dsf:Columns>
          <dsf:string>ITSMReleaseApprovalDecisionResultGuid</dsf:string>
        </dsf:Columns>
        <dsf:SQL>
          LEFT JOIN usr.ITSMReleaseApprovalDecisionResult as relAppDecRes on relAppDecRes.Ident = itsReq.ITSMReleaseApprovalDecisionResultGuid AND relAppDecRes.LanguageID = @UserLanguageID
        </dsf:SQL>
      </dsf:From>
      <dsf:From Ident="relTesSumCon">
        <dsf:Columns>
          <dsf:string>ITSMReleaseTestSummaryConclusionGuid</dsf:string>
        </dsf:Columns>
        <dsf:SQL>
          LEFT JOIN usr.ITSMReleaseTestSummaryConclusion as relTesSumCon on relTesSumCon.Ident = itsReq.ITSMReleaseTestSummaryConclusionGuid AND relTesSumCon.LanguageID = @UserLanguageID
        </dsf:SQL>
      </dsf:From>
      <dsf:From Ident="relTesExeRes">
        <dsf:Columns>
          <dsf:string>ITSMReleaseTestExecutionResultGuid</dsf:string>
        </dsf:Columns>
        <dsf:SQL>
          LEFT JOIN usr.ITSMReleaseTestExecutionResult as relTesExeRes on relTesExeRes.Ident = itsReq.ITSMReleaseTestExecutionResultGuid AND relTesExeRes.LanguageID = @UserLanguageID
        </dsf:SQL>
      </dsf:From>
    </Froms>
		<SQL>
      SELECT *
      FROM (
        SELECT *, #ROWNUM#
        FROM (
          SELECT
            itsReq.ID
            #ADDCOLUMN#
          FROM usr.ITSMRelease AS itsReq
          INNER JOIN dbo.Account AS accCreator ON accCreator.ID = itsReq.AccountID
          INNER JOIN usr.ITSM_FolderTreeView AS ftvCom ON ftvCom.FolderTreeIdent = itsReq.ITSMCompanyIdent
          #ADDFROM#
          WHERE
            itsReq.[State] = @DeploymentPlanState
            AND (
              (
                ftvCom.IsShareAmongAuthors = 0 AND #PERMISSION[ITSMRelease(itsReq)|ITSMReleaseReporter|]#
              )
              OR
              (
                ftvCom.IsShareAmongAuthors = 1 AND #PERMISSION[ITSMRelease(itsReq)|ITSMReleaseReporter,ITSMAuthor|]#
              )
              OR
              (
                #PERMISSION[ITSMRelease(itsReq)]#
              )
            ) #FILTER#
        ) AS tbl
      ) AS tbl
      WHERE RowNum BETWEEN @StartPage AND @EndPage
    </SQL>
		<Parameters>
      <dsp:Parameter xsi:type="dsp:ValueParameter" Ident="DeploymentPlanState" DataType="Number" Value="20" />
      <dsp:Parameter xsi:type="dsp:VariableParameter" Ident="UserLanguageID" ConstantType="UserLanguageID" DataType="Number" />
      <dsp:Parameter xsi:type="dsp:VariableParameter" Ident="StartPage" ConstantType="StartPage" DataType="Number" />
      <dsp:Parameter xsi:type="dsp:VariableParameter" Ident="EndPage" ConstantType="EndPage" DataType="Number" />
		</Parameters>
	</DataSource>

  <CountDataSource>
    <SQL>
      SELECT COUNT(itsReq.ID)
      FROM usr.ITSMRelease AS itsReq
      INNER JOIN usr.ITSM_FolderTreeView AS ftvCom ON ftvCom.FolderTreeIdent = itsReq.ITSMCompanyIdent
      WHERE
        itsReq.[State] = @DeploymentPlanState
        AND (
          (
            ftvCom.IsShareAmongAuthors = 0 AND #PERMISSION[ITSMRelease(itsReq)|ITSMReleaseReporter|]#
          )
          OR
          (
            ftvCom.IsShareAmongAuthors = 1 AND #PERMISSION[ITSMRelease(itsReq)|ITSMReleaseReporter,ITSMAuthor|]#
          )
          OR
          (
            #PERMISSION[ITSMRelease(itsReq)]#
          )
        ) #FILTER#
    </SQL>
    <Parameters>
      <dsp:Parameter xsi:type="dsp:ValueParameter" Ident="DeploymentPlanState" DataType="Number" Value="20" />
    </Parameters>
  </CountDataSource>

  <Sections>
    <Section xsi:type="ExportSection" Ident="BasicExportSection" TitleResourceKey="BasicExportSection_ITSM">
      <DataSource>
        <Columns>
          <Column Ident="ID" TitleResourceKey="ID_ITSM" IsPrimaryKey="true" Width="10" TableAlterIdent="tbl" DataType="Number" />
          <Column Ident="ReleaseName" TitleResourceKey="ReleaseName_ITSM" Width="25" TableAlterIdent="tbl">
            <SQL>
              itsReq.[ReleaseName]
            </SQL>
          </Column>
          <Column Ident="ITSMKey" TitleResourceKey="ITSMKey_ITSM" Width="15" TableAlterIdent="tbl">
            <SQL>
              itsReq.ITSMKey
            </SQL>
          </Column>
          <Column Ident="ITSMCompanyIdent" TitleResourceKey="ITSMCompanyIdent_ITSM" Width="15" TableAlterIdent="tbl">
            <SQL>
              ftvCom.[FolderName] AS ITSMCompanyIdent
            </SQL>
          </Column>
          <Column Ident="ITSMCategoryLevel2Ident" TitleResourceKey="ITSMCategoryLevel2Ident_ITSM" Width="15" TableAlterIdent="tbl">
            <SQL>
              ftvCat2.[FolderName] AS ITSMCategoryLevel2Ident
            </SQL>
          </Column>
          <Column Ident="ITSMCategoryLevel3Ident" TitleResourceKey="ITSMCategoryLevel3Ident_ITSM" Width="15" TableAlterIdent="tbl">
            <SQL>
              ftvCat3.[FolderName] AS ITSMCategoryLevel3Ident
            </SQL>
          </Column>
          <Column Ident="ITSMCategoryLevel4Ident" TitleResourceKey="ITSMCategoryLevel4Ident_ITSM" Width="15" TableAlterIdent="tbl">
            <SQL>
              ftvCat4.[FolderName] AS ITSMCategoryLevel4Ident
            </SQL>
          </Column>
          <Column xsi:type="WorkFlowStateColumn" Ident="State" FormIdent="ITSMRelease" TitleResourceKey="State_ITSM" IsColor="true" Width="15" TableAlterIdent="tbl">
            <SQL>
              itsReq.State
            </SQL>
          </Column>
          <Column Ident="CreateDate" TitleResourceKey="CreateDate_ITSM" TableAlterIdent="tbl" DataType="DateTime">
            <SQL>
              itsReq.CreateDate
            </SQL>
          </Column>
          <Column Ident="AccountID" TitleResourceKey="AccountID_ITSM" TableAlterIdent="tbl">
            <SQL>
              accCreator.FullName AS AccountID
            </SQL>
          </Column>
          <Column Ident="ITSMCategoryLevel5Ident" TitleResourceKey="ITSMCategoryLevel5Ident_ITSM" TableAlterIdent="tbl">
            <SQL>
              ftvCat5.[FolderName] AS ITSMCategoryLevel5Ident
            </SQL>
          </Column>
          <Column Ident="ReporterAccountID" TitleResourceKey="ReporterAccountID_ITSM" TableAlterIdent="tbl">
            <SQL>
              accRep.[FullName] AS ReporterAccountID
            </SQL>
          </Column>
          <Column Ident="ReporterEmail" TitleResourceKey="ReporterEmail_ITSM" TableAlterIdent="tbl">
            <SQL>
              itsReq.[ReporterEmail]
            </SQL>
          </Column>
          <Column Ident="ReporterPhone" TitleResourceKey="ReporterPhone_ITSM" TableAlterIdent="tbl">
            <SQL>
              itsReq.[ReporterPhone]
            </SQL>
          </Column>
          <Column Ident="ITSMGeneralResolutionMethodTypeGuid" TitleResourceKey="ITSMGeneralResolutionMethodTypeGuid_ITSM" TableAlterIdent="tbl">
            <SQL>
              genResMetTyp.[TextValue] AS ITSMGeneralResolutionMethodTypeGuid
            </SQL>
          </Column>
          <Column Ident="SolutionDescription" TitleResourceKey="SolutionDescription_ITSM" TableAlterIdent="tbl">
            <SQL>
              itsReq.[SolutionDescription]
            </SQL>
          </Column>
          <Column Ident="SolutionAditionalInformation" TitleResourceKey="SolutionAditionalInformation_ITSM" TableAlterIdent="tbl">
            <SQL>
              itsReq.[SolutionAditionalInformation]
            </SQL>
          </Column>
          <Column Ident="AssignedGroupID" TitleResourceKey="AssignedGroupID_ITSM" TableAlterIdent="tbl">
            <SQL>
              gro.[Name] AS [AssignedGroupID]
            </SQL>
          </Column>
          <Column Ident="AssignedAccountID" TitleResourceKey="AssignedAccountID_ITSM" TableAlterIdent="tbl">
            <SQL>
              accAsg.FullName AS [AssignedAccountID]
            </SQL>
          </Column>

          <Column Ident="ReleaseManagerID" TitleResourceKey="ReleaseManagerID_ITSM" TableAlterIdent="tbl">
            <SQL>
              accRelMan.FullName AS ReleaseManagerID
            </SQL>
          </Column>
          <Column Ident="ITSMChangeID" TitleResourceKey="ReleaseITSMChangeID_ITSM" TableAlterIdent="tbl">
            <SQL>
              CONCAT(itsCha.ITSMKey,' - ',itsCha.[Subject]) AS ITSMChangeID
            </SQL>
          </Column>
          <Column Ident="ITSMReleaseClassificationCategoryGuid" TitleResourceKey="ITSMReleaseClassificationCategoryGuid_ITSM" TableAlterIdent="tbl">
            <SQL>
              relClaCat.[TextValue] AS ITSMReleaseClassificationCategoryGuid
            </SQL>
          </Column>
          <Column Ident="ITSMReleaseDeploymentTypeGuid" TitleResourceKey="ITSMReleaseDeploymentTypeGuid_ITSM" TableAlterIdent="tbl">
            <SQL>
              relDepTyp.[TextValue] AS ITSMReleaseDeploymentTypeGuid
            </SQL>
          </Column>
          <Column Ident="ITSMOperationalEnvironmentTypeGuid" TitleResourceKey="ITSMOperationalEnvironmentTypeGuid_ITSM" TableAlterIdent="tbl">
            <SQL>
              opeEnvTyp.[TextValue] AS ITSMOperationalEnvironmentTypeGuid
            </SQL>
          </Column>
          <Column Ident="ITSMReleaseApprovalDecisionResultGuid" TitleResourceKey="ITSMReleaseApprovalDecisionResultGuid_ITSM" TableAlterIdent="tbl">
            <SQL>
              relAppDecRes.[TextValue] AS ITSMReleaseApprovalDecisionResultGuid
            </SQL>
          </Column>
          <Column Ident="ApprovalJustification" TitleResourceKey="ApprovalJustification_ITSM" TableAlterIdent="tbl">
            <SQL>
              itsReq.[ApprovalJustification]
            </SQL>
          </Column>
          <Column Ident="ApprovalDateTime" TitleResourceKey="ApprovalDateTime_ITSM" TableAlterIdent="tbl" DataType="DateTime">
            <SQL>
              itsReq.[ApprovalDateTime]
            </SQL>
          </Column>
          <Column Ident="RequestForShutdown" TitleResourceKey="RequestForShutdown_ITSM" TableAlterIdent="tbl">
            <SQL>
              itsReq.[RequestForShutdown]
            </SQL>
          </Column>
          <Column Ident="ShutdownStartDateTime" TitleResourceKey="ShutdownStartDateTime_ITSM" TableAlterIdent="tbl" DataType="DateTime">
            <SQL>
              itsReq.[ShutdownStartDateTime]
            </SQL>
          </Column>
          <Column Ident="ShutdownEndDateTime" TitleResourceKey="ShutdownEndDateTime_ITSM" TableAlterIdent="tbl" DataType="DateTime">
            <SQL>
              itsReq.[ShutdownEndDateTime]
            </SQL>
          </Column>
          <Column Ident="DeploymentDescription" TitleResourceKey="DeploymentDescription_ITSM" TableAlterIdent="tbl">
            <SQL>
              itsReq.[DeploymentDescription]
            </SQL>
          </Column>
          <Column Ident="DeploymentDateTime" TitleResourceKey="DeploymentDateTime_ITSM" TableAlterIdent="tbl" DataType="DateTime">
            <SQL>
              itsReq.[DeploymentDateTime]
            </SQL>
          </Column>
          <Column Ident="ITSMReleaseTestSummaryConclusionGuid" TitleResourceKey="ITSMReleaseTestSummaryConclusionGuid_ITSM" TableAlterIdent="tbl">
            <SQL>
              relTesSumCon.[TextValue] AS ITSMReleaseTestSummaryConclusionGuid
            </SQL>
          </Column>
          <Column Ident="ITSMReleaseTestExecutionResultGuid" TitleResourceKey="ITSMReleaseTestExecutionResultGuid_ITSM" TableAlterIdent="tbl">
            <SQL>
              relTesExeRes.[TextValue] AS ITSMReleaseTestExecutionResultGuid
            </SQL>
          </Column>
          <Column Ident="TestingResultDescription" TitleResourceKey="TestingResultDescription_ITSM" TableAlterIdent="tbl">
            <SQL>
              itsReq.[TestingResultDescription]
            </SQL>
          </Column>
          <Column Ident="TestingEndDateTime" TitleResourceKey="TestingEndDateTime_ITSM" TableAlterIdent="tbl" DataType="DateTime">
            <SQL>
              itsReq.[TestingEndDateTime]
            </SQL>
          </Column>
          <Column Ident="IsTrainingRequired" TitleResourceKey="IsTrainingRequired_ITSM" TableAlterIdent="tbl" IsTranslate="true">
            <SQL>
              ISNULL(itsReq.[IsTrainingRequired],'false') AS IsTrainingRequired
            </SQL>
          </Column>
          <Column Ident="TrainingDateTime" TitleResourceKey="TrainingDateTime_ITSM" TableAlterIdent="tbl" DataType="DateTime">
            <SQL>
              itsReq.[TrainingDateTime]
            </SQL>
          </Column>
          <Column Ident="IsRollback" TitleResourceKey="IsRollback_ITSM" TableAlterIdent="tbl" IsTranslate="true">
            <SQL>
              ISNULL(itsReq.[IsRollback],'false') AS IsRollback
            </SQL>
          </Column>
          <Column Ident="RollbackJustification" TitleResourceKey="RollbackJustification_ITSM" TableAlterIdent="tbl">
            <SQL>
              itsReq.[RollbackJustification]
            </SQL>
          </Column>
          <Column Ident="RollbackDateTime" TitleResourceKey="RollbackDateTime_ITSM" TableAlterIdent="tbl" DataType="DateTime">
            <SQL>
              itsReq.[RollbackDateTime]
            </SQL>
          </Column>
        </Columns>
        <Froms>
          <dsf:From Ident="ftvCat2">
            <dsf:Columns>
              <dsf:string>ITSMCategoryLevel2Ident</dsf:string>
            </dsf:Columns>
            <dsf:SQL>
              LEFT JOIN usr.ITSM_FolderTreeView AS ftvCat2 ON ftvCat2.FolderTreeIdent = itsReq.ITSMCategoryLevel2Ident
            </dsf:SQL>
          </dsf:From>
          <dsf:From Ident="ftvCat3">
            <dsf:Columns>
              <dsf:string>ITSMCategoryLevel3Ident</dsf:string>
            </dsf:Columns>
            <dsf:SQL>
              LEFT JOIN usr.ITSM_FolderTreeView AS ftvCat3 ON ftvCat3.FolderTreeIdent = itsReq.ITSMCategoryLevel3Ident
            </dsf:SQL>
          </dsf:From>
          <dsf:From Ident="ftvCat4">
            <dsf:Columns>
              <dsf:string>ITSMCategoryLevel4Ident</dsf:string>
            </dsf:Columns>
            <dsf:SQL>
              LEFT JOIN usr.ITSM_FolderTreeView AS ftvCat4 ON ftvCat4.FolderTreeIdent = itsReq.ITSMCategoryLevel4Ident
            </dsf:SQL>
          </dsf:From>
          <dsf:From Ident="ftvCat5">
            <dsf:Columns>
              <dsf:string>ITSMCategoryLevel5Ident</dsf:string>
            </dsf:Columns>
            <dsf:SQL>
              LEFT JOIN usr.ITSM_FolderTreeView AS ftvCat5 ON ftvCat5.FolderTreeIdent = itsReq.ITSMCategoryLevel5Ident
            </dsf:SQL>
          </dsf:From>
          <dsf:From Ident="accRep">
            <dsf:Columns>
              <dsf:string>ReporterAccountID</dsf:string>
            </dsf:Columns>
            <dsf:SQL>
              LEFT JOIN dbo.Account as accRep on accRep.ID = itsReq.ReporterAccountID
            </dsf:SQL>
          </dsf:From>
          <dsf:From Ident="accAsg">
            <dsf:Columns>
              <dsf:string>AssignedAccountID</dsf:string>
            </dsf:Columns>
            <dsf:SQL>
              LEFT JOIN dbo.Account as accAsg on accAsg.ID = itsReq.AssignedAccountID
            </dsf:SQL>
          </dsf:From>
          <dsf:From Ident="gro">
            <dsf:Columns>
              <dsf:string>AssignedGroupID</dsf:string>
            </dsf:Columns>
            <dsf:SQL>
              LEFT JOIN dbo.[Group] as gro on gro.ID = itsReq.AssignedGroupID
            </dsf:SQL>
          </dsf:From>
          <dsf:From Ident="genResMetTyp">
            <dsf:Columns>
              <dsf:string>ITSMGeneralResolutionMethodTypeGuid</dsf:string>
            </dsf:Columns>
            <dsf:SQL>
              LEFT JOIN usr.ITSMGeneralResolutionMethodType as genResMetTyp on genResMetTyp.Ident = itsReq.ITSMGeneralResolutionMethodTypeGuid AND genResMetTyp.LanguageID = @UserLanguageID
            </dsf:SQL>
          </dsf:From>
          <dsf:From Ident="accRelMan">
            <dsf:Columns>
              <dsf:string>ReleaseManagerID</dsf:string>
            </dsf:Columns>
            <dsf:SQL>
              LEFT JOIN dbo.Account as accRelMan on accRelMan.ID = itsReq.ReleaseManagerID
            </dsf:SQL>
          </dsf:From>
          <dsf:From Ident="itsCha">
            <dsf:Columns>
              <dsf:string>ITSMChangeID</dsf:string>
            </dsf:Columns>
            <dsf:SQL>
              LEFT JOIN usr.ITSMChange as itsCha on itsCha.ID = itsReq.ITSMChangeID
            </dsf:SQL>
          </dsf:From>
          <dsf:From Ident="relClaCat">
            <dsf:Columns>
              <dsf:string>ITSMReleaseClassificationCategoryGuid</dsf:string>
            </dsf:Columns>
            <dsf:SQL>
              LEFT JOIN usr.ITSMReleaseClassificationCategory as relClaCat on relClaCat.Ident = itsReq.ITSMReleaseClassificationCategoryGuid AND relClaCat.LanguageID = @UserLanguageID
            </dsf:SQL>
          </dsf:From>
          <dsf:From Ident="relDepTyp">
            <dsf:Columns>
              <dsf:string>ITSMReleaseDeploymentTypeGuid</dsf:string>
            </dsf:Columns>
            <dsf:SQL>
              LEFT JOIN usr.ITSMReleaseDeploymentType as relDepTyp on relDepTyp.Ident = itsReq.ITSMReleaseDeploymentTypeGuid AND relDepTyp.LanguageID = @UserLanguageID
            </dsf:SQL>
          </dsf:From>
          <dsf:From Ident="opeEnvTyp">
            <dsf:Columns>
              <dsf:string>ITSMOperationalEnvironmentTypeGuid</dsf:string>
            </dsf:Columns>
            <dsf:SQL>
              LEFT JOIN usr.ITSMOperationalEnvironmentType as opeEnvTyp on opeEnvTyp.Ident = itsReq.ITSMOperationalEnvironmentTypeGuid AND opeEnvTyp.LanguageID = @UserLanguageID
            </dsf:SQL>
          </dsf:From>
          <dsf:From Ident="relAppDecRes">
            <dsf:Columns>
              <dsf:string>ITSMReleaseApprovalDecisionResultGuid</dsf:string>
            </dsf:Columns>
            <dsf:SQL>
              LEFT JOIN usr.ITSMReleaseApprovalDecisionResult as relAppDecRes on relAppDecRes.Ident = itsReq.ITSMReleaseApprovalDecisionResultGuid AND relAppDecRes.LanguageID = @UserLanguageID
            </dsf:SQL>
          </dsf:From>
          <dsf:From Ident="relTesSumCon">
            <dsf:Columns>
              <dsf:string>ITSMReleaseTestSummaryConclusionGuid</dsf:string>
            </dsf:Columns>
            <dsf:SQL>
              LEFT JOIN usr.ITSMReleaseTestSummaryConclusion as relTesSumCon on relTesSumCon.Ident = itsReq.ITSMReleaseTestSummaryConclusionGuid AND relTesSumCon.LanguageID = @UserLanguageID
            </dsf:SQL>
          </dsf:From>
          <dsf:From Ident="relTesExeRes">
            <dsf:Columns>
              <dsf:string>ITSMReleaseTestExecutionResultGuid</dsf:string>
            </dsf:Columns>
            <dsf:SQL>
              LEFT JOIN usr.ITSMReleaseTestExecutionResult as relTesExeRes on relTesExeRes.Ident = itsReq.ITSMReleaseTestExecutionResultGuid AND relTesExeRes.LanguageID = @UserLanguageID
            </dsf:SQL>
          </dsf:From>
        </Froms>
        <SQL>

          SELECT
            itsReq.ID
            #ADDCOLUMN#
          FROM usr.ITSMRelease AS itsReq
          INNER JOIN usr.ITSM_FolderTreeView AS ftvCom ON ftvCom.FolderTreeIdent = itsReq.ITSMCompanyIdent
          INNER JOIN dbo.Account AS accCreator ON accCreator.ID = itsReq.AccountID
          #ADDFROM#
          WHERE
            itsReq.[State] = @DeploymentPlanState
            AND (
              (
                ftvCom.IsShareAmongAuthors = 0 AND #PERMISSION[ITSMRelease(itsReq)|ITSMReleaseReporter|]#
              )
              OR
              (
                ftvCom.IsShareAmongAuthors = 1 AND #PERMISSION[ITSMRelease(itsReq)|ITSMReleaseReporter,ITSMAuthor|]#
              )
              OR
              (
                #PERMISSION[ITSMRelease(itsReq)]#
              )
            ) #FILTER#

        </SQL>
        <Parameters>
          <dsp:Parameter xsi:type="dsp:ValueParameter" Ident="DeploymentPlanState" DataType="Number" Value="20" />
          <dsp:Parameter xsi:type="dsp:VariableParameter" Ident="UserLanguageID" ConstantType="UserLanguageID" DataType="Number" />
        </Parameters>
      </DataSource>
    </Section>
  </Sections>

</DataView>
